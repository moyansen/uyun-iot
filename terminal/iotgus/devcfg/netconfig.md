---
description: IoT串口开发使用文档
---

# 网络配置说明

## 1、网络功能配置

网络功能参数配置，也是分为两部分：**网络参数配置**和**设备信息配置**。网络参数配置是实现IoT串口屏接入WiFi或者移动网络；设备信息配置是实现IoT串口屏接入物联网云平台，IoT云平台对每个设备都需要有唯一的认证信息，通过后才能接入云平台。

IoT串口屏划分了一分部变量地址用于网络功能参数配置，从0x8000开始地址是系统占用地址，用户在配置GUS工程时需要避开，以免出现冲突而带来的不必要的麻烦。

这部分地址的功能已经定义好，参数也有部分是规定对应不同的功能，只需要按照功能配置即可。

| **变量地址** |  **长度** | **功能定义** | **备注** |
| :--- | :--- | :--- | :--- |
| 0x8000 | 2字节 | 信号强度 | WIFI/移动网络信号强度：0-5 |
| 0x8001 | 2字节 | 平台接入提示 | 0：未接入云平台，1：已接入云平台 |
| 0x8003 | 2字节 | 搜索WiFi热点 | 0x5A02：搜索WiFi热点 0xC33C：设置接入WiFi 0x5B01-0x5B08：8个待选附近WiFi热点 0xC33D：接入云平台 |
| 0x8010 | 32字节 | 输入WiFi名称 | 手动写的WiFi名称或者选择的WiFi名称 |
| 0x8030 | 32字节 | 输入WiFi密码 | 录入WiFi密码 |
| 0x8100 | 32字节 | 附近的WiFi名称1 | 对应0x8003的键值0x5B01 |
| 0x8120 | 32字节 | 附近的WiFi名称2 | 对应0x8003的键值0x5B0**2** |
| 0x8140 | 32字节 | 附近的WiFi名称3 | 对应0x8003的键值0x5B03 |
| 0x8160 | 32字节 | 附近的WiFi名称4 | 对应0x8003的键值0x5B04 |
| 0x8180 | 32字节 | 附近的WiFi名称5 | 对应0x8003的键值0x5B05 |
| 0x81A0 | 32字节 | 附近的WiFi名称6 | 对应0x8003的键值0x5B06 |
| 0x81C0 | 32字节 | 附近的WiFi名称7 | 对应0x8003的键值0x5B07 |
| 0x81E0 | 32字节 | 附近的WiFi名称8 | 对应0x8003的键值0x5B08 |
| 0x8200 | 16字节 | 物联网平台选择 | 默认是串口云 |
| 0x8210 | 32字节 | product\_auth | 认证信息产品授权码 |
| 0x8230 | 32字节 | device\_sn | 认证信息设备序列号 |

### 网络功能参数说明

#### 信号强度 0x8000

信号强度划分5个等级0~4，用于指示网络状态。可以配置变量图标来提示用户当前网络状况。

#### 平台接入提示 0x8001

> 0：未接入云平台，1：已接入云平台。

用于通知用户设备接入情况。可通过配置变量图标来通知接入状态

#### 搜索选择WiFi热点 0x8003

需要搜索附近WiFi热点，给变量地址0x8003写入0x5A02，即可使能IoT串口屏搜索WiFi热点显示到0x8100~0x81E0地址。最多可以显示8个WiFi热点，如果显示结果中没有想要的WiFi热点，可以再次写入0x5A02让IoT串口屏重新搜索附近WiFi热点，直到有自己想要的WiFi热点。可以配置**按键值返回**实现。

选择搜索到的WiFi热点，给变量地址0x8003写入0x5B01~0x5B08，分别对应8个附近的WiFi热点。可配置按键值返回实现。

#### 输入WiFi名称 0x8010

输入WiFi名称和选择的WiFi名称也是显示到这里。配置文本显示

#### 输入WiFi密码 0x8030

输入WiFi密码，用ascii文本录入

#### 附近的WiFi名称 0x8100~0x81E0

对应的配置文本显示，最多8个

#### 物联网平台选择 0x8020

IoT串口屏可以多平台接入，目前已经实现了自有平台串口云的接入、阿里云平台接入，未来还有更多平台接入。可以通过单片机发给IoT串口屏，也可以直接在22.bin文件初始化。

> 1：接入阿里云

#### 认证信息三要素

阿里云目前支持一机一密方式，需要使用三要素来接入；串口云支持一型一密的方式，使用ProductKey和DeviceSN 

ProductKey写入到变量地址0x8210，DeviceName/SN 写入到变量地址0x8230，DeviceSecret 写入到变量地址0x8250；可以通过单片机发给IoT串口屏，也可以直接在22.bin文件初始化。

